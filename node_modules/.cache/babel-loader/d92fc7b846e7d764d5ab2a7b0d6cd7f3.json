{"ast":null,"code":"import _toConsumableArray from\"/home/aditya/compiler/compiler/cchat/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _slicedToArray from\"/home/aditya/compiler/compiler/cchat/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{user}from\"./join\";import{ToastContainer,toast}from\"react-toastify\";import socketio from\"socket.io-client\";import\"./chat.css\";import\"./message.css\";import{IoMdSend}from\"react-icons/io\";import{RiChat3Fill}from\"react-icons/ri\";import{AiOutlineCloseCircle}from\"react-icons/ai\";import Message from\"./Message\";import ReactScrollToBottom from\"react-scroll-to-bottom\";import{Link}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var ENDPOINT=\"https://chat-app-by-adityabarve.herokuapp.com/\";var socket;function Chat(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),id=_useState2[0],setid=_useState2[1];var _useState3=useState([1,2,3,4]),_useState4=_slicedToArray(_useState3,2),messages=_useState4[0],setMessage=_useState4[1];var send=function send(){var socket=socketio(ENDPOINT,{transports:[\"websocket\"]});var message=document.getElementById(\"chatInput\").value;socket.emit(\"message\",{message:message,id:id});//emit means to send data to client\ndocument.getElementById(\"chatInput\").value=\"\";};useEffect(function(){var socket=socketio(ENDPOINT,{transports:[\"websocket\"]});socket.on(\"connect\",function(){toast.dark(\"Server Connected!\");setid(socket.id);});socket.emit(\"joined\",{user:user});socket.on(\"Welcome\",function(data){setMessage([].concat(_toConsumableArray(messages),[data]));toast.success(\"\".concat(data.message));});socket.on(\"userjoined\",function(data){setMessage([].concat(_toConsumableArray(messages),[data]));toast.success(\"\".concat(data.message));});socket.on(\"leave\",function(data){setMessage([].concat(_toConsumableArray(messages),[data]));});return function(){socket.emit(\"discon\");socket.off();};},[]);useEffect(function(){var socket=socketio(ENDPOINT,{transports:[\"websocket\"]});socket.on(\"sendMessage\",function(data){setMessage([].concat(_toConsumableArray(messages),[data]));});return function(){socket.off();};},[messages]);return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"div\",{className:\"chatPage\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"chatContainer\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"header\",children:[/*#__PURE__*/_jsx(\"h3\",{style:{fontSize:\"x-large\",fontStyle:\"italic\"},children:\"App By Aditya Barve\"}),/*#__PURE__*/_jsx(RiChat3Fill,{size:40})]}),/*#__PURE__*/_jsx(\"div\",{style:{display:\"flex\",justifyContent:\"center\"},children:/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(AiOutlineCloseCircle,{size:30})})}),/*#__PURE__*/_jsx(ReactScrollToBottom,{className:\"chatBox\",children:messages.map(function(item,i){return/*#__PURE__*/_jsx(Message,{message:item.message,classs:item.id===id?\"right\":\"left\",user:item.id===id?\"\":item.user});})}),/*#__PURE__*/_jsxs(\"div\",{className:\"inputBox\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:\"chatInput\",onKeyPress:function onKeyPress(e){return e.key===\"Enter\"&&send();}}),/*#__PURE__*/_jsx(\"button\",{onClick:send,className:\"sendBtn\",children:/*#__PURE__*/_jsx(IoMdSend,{size:40})})]})]})}),/*#__PURE__*/_jsx(ToastContainer,{})]});}export default Chat;","map":{"version":3,"sources":["/home/aditya/compiler/compiler/cchat/src/component/Chat.js"],"names":["React","useEffect","useState","user","ToastContainer","toast","socketio","IoMdSend","RiChat3Fill","AiOutlineCloseCircle","Message","ReactScrollToBottom","Link","ENDPOINT","socket","Chat","id","setid","messages","setMessage","send","transports","message","document","getElementById","value","emit","on","dark","data","success","off","fontSize","fontStyle","display","justifyContent","map","item","i","e","key"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { user } from \"./join\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport socketio from \"socket.io-client\";\nimport \"./chat.css\";\nimport \"./message.css\";\nimport { IoMdSend } from \"react-icons/io\";\nimport { RiChat3Fill } from \"react-icons/ri\";\nimport { AiOutlineCloseCircle } from \"react-icons/ai\";\n\nimport Message from \"./Message\";\nimport ReactScrollToBottom from \"react-scroll-to-bottom\";\nimport { Link } from \"react-router-dom\";\n\nconst ENDPOINT = \"https://chat-app-by-adityabarve.herokuapp.com/\";\nlet socket;\nfunction Chat() {\n  const [id, setid] = useState(\"\");\n  const [messages, setMessage] = useState([1, 2, 3, 4]);\n\n  const send = () => {\n    const socket = socketio(ENDPOINT, { transports: [\"websocket\"] });\n\n    const message = document.getElementById(\"chatInput\").value;\n    socket.emit(\"message\", { message, id }); //emit means to send data to client\n    document.getElementById(\"chatInput\").value = \"\";\n  };\n\n  useEffect(() => {\n    const socket = socketio(ENDPOINT, { transports: [\"websocket\"] });\n    socket.on(\"connect\", () => {\n      toast.dark(\"Server Connected!\");\n      setid(socket.id);\n    });\n\n    socket.emit(\"joined\", { user: user });\n\n    socket.on(\"Welcome\", (data) => {\n      setMessage([...messages, data]);\n      toast.success(`${data.message}`);\n    });\n\n    socket.on(\"userjoined\", (data) => {\n      setMessage([...messages, data]);\n      toast.success(`${data.message}`);\n    });\n\n    socket.on(\"leave\", (data) => {\n      setMessage([...messages, data]);\n    });\n\n    return () => {\n      socket.emit(\"discon\");\n      socket.off();\n    };\n  }, []);\n\n  useEffect(() => {\n    const socket = socketio(ENDPOINT, { transports: [\"websocket\"] });\n\n    socket.on(\"sendMessage\", (data) => {\n      setMessage([...messages, data]);\n    });\n\n    return () => {\n      socket.off();\n    };\n  }, [messages]);\n\n  return (\n    <div>\n      <div className=\"chatPage\">\n        <div className=\"chatContainer\">\n          <div className=\"header\">\n            <h3 style={{ fontSize: \"x-large\", fontStyle: \"italic\" }}>\n              App By Aditya Barve\n            </h3>\n            <RiChat3Fill size={40} />\n          </div>\n          <div style={{ display: \"flex\", justifyContent: \"center\" }}>\n            <Link to=\"/\">\n              <AiOutlineCloseCircle size={30} />\n            </Link>\n          </div>\n          <ReactScrollToBottom className=\"chatBox\">\n            {messages.map((item, i) => {\n              return (\n                <Message\n                  message={item.message}\n                  classs={item.id === id ? \"right\" : \"left\"}\n                  user={item.id === id ? \"\" : item.user}\n                />\n              );\n            })}\n          </ReactScrollToBottom>\n          <div className=\"inputBox\">\n            <input\n              type=\"text\"\n              id=\"chatInput\"\n              onKeyPress={(e) => e.key === \"Enter\" && send()}\n            />\n            <button onClick={send} className=\"sendBtn\">\n              <IoMdSend size={40} />\n            </button>\n          </div>\n        </div>\n      </div>\n\n      <ToastContainer />\n    </div>\n  );\n}\n\nexport default Chat;\n"]},"metadata":{},"sourceType":"module"}